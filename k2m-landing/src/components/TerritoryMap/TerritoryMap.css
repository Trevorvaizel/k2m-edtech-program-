/* TerritoryMap.css - Awwwards-Level Spatial Storytelling */
/* Based on Party Mode Decision 2026-01-16: Absolute positioning along journey path */

/* Section container - Pure black background for WHOA moment */
.territory-map {
  position: relative;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  background: var(--pure-black); /* #000000 */
  z-index: 3; /* Above MapFraming */
  overflow: hidden;
}

/* Particle container (for Story 2.2) */
.particle-container {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1; /* Above background, below zones */
  will-change: transform, opacity; /* Prepare for animations */
}

/* SVG background - "The Discovered Map" */
.territory-svg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 0; /* Behind everything */
  opacity: 0.2; /* More visible for journey path */
  filter: drop-shadow(0 0 20px rgba(32,178,170,0.3)); /* Subtle glow */
}

/* Zone container - Absolute positioning canvas */
.map-zones {
  position: relative;
  z-index: 2; /* Above particles and SVG */
  width: 100%;
  max-width: 1200px; /* Match SVG viewBox */
  height: 800px; /* Match SVG viewBox */
}

/* Individual zone styling - Positioned along journey path */
.zone {
  position: absolute;
  width: 220px; /* Fixed width for positioning */
  padding: 1.5rem;
  border-radius: 12px;
  background: rgba(26, 26, 26, 0.7); /* Frosted glass effect */
  backdrop-filter: blur(20px); /* Modern glass morphism */
  -webkit-backdrop-filter: blur(20px); /* Safari support */
  border: 1px solid rgba(255, 255, 255, 0.1);
  transform: translate(-50%, -50%); /* Center on SVG coordinates */
  transition: none; /* GSAP handles animations */
}

/* Fallback for browsers without backdrop-filter */
@supports not (backdrop-filter: blur(20px)) {
  .zone {
    background: rgba(26, 26, 26, 0.9); /* Solid fallback */
  }
}

/* Zone positioning - Match SVG coordinates (percentage conversion) */
/* Valley - Starting point (ghost state) */
.zone-0 {
  left: 8.3%;   /* 100/1200 */
  bottom: 12.5%; /* (800-700)/800 from bottom */
  opacity: 0.3; /* Ghost state - degrees of becoming */
  filter: blur(2px);
}

/* Foothills (emerging) */
.zone-1 {
  left: 33.3%;  /* 400/1200 */
  bottom: 31.25%; /* (800-550)/800 */
  opacity: 0.45; /* Emerging */
  filter: blur(1.5px);
}

/* Crossing - Midpoint (forming) */
.zone-2 {
  left: 54.2%;  /* 650/1200 */
  bottom: 46.25%; /* (800-430)/800 */
  opacity: 0.6; /* Forming */
  filter: blur(1px);
}

/* Ascent (solid) */
.zone-3 {
  left: 75%;    /* 900/1200 */
  bottom: 60%;  /* (800-320)/800 */
  opacity: 0.8; /* Solid */
  filter: blur(0.5px);
}

/* Summit - Destination (fully present) */
.zone-4 {
  left: 91.6%;  /* 1100/1200 */
  top: 22.5%;   /* 180/800 from top */
  opacity: 1.0; /* Fully present */
  filter: blur(0); /* Crystal clear */
}

/* Typography */
.zone h3 {
  font-family: 'Space Grotesk', sans-serif;
  font-size: clamp(1.25rem, 3vw, 1.75rem);
  font-weight: 700;
  line-height: 1.2;
  color: var(--text-primary);
  margin-bottom: 1rem;
}

.zone p {
  font-family: 'Inter', sans-serif;
  font-size: clamp(0.875rem, 2vw, 1rem);
  font-weight: 400;
  line-height: 1.6;
  color: var(--text-secondary);
  margin: 0;
}

/* Zone 4 destination styling - Ocean mint accent */
.zone-destination {
  border: 2px solid var(--ocean-mint-glow); /* #40E0D0 */
  box-shadow: 0 0 30px rgba(64, 224, 208, 0.2);
}

.zone-destination h3 {
  color: var(--ocean-mint-glow); /* #40E0D0 */
}

/* Mobile responsive - Vertical journey */
@media (max-width: 768px) {
  .territory-map {
    padding: 2rem 1rem;
    min-height: auto; /* Let content determine height */
  }

  .map-zones {
    position: relative; /* Switch from absolute positioning */
    height: auto; /* Let content flow */
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .zone {
    position: relative; /* Reset from absolute */
    left: auto !important;
    right: auto !important;
    top: auto !important;
    bottom: auto !important;
    transform: none; /* Reset centering */
    width: 100%; /* Full width on mobile */
    max-width: 400px;
    margin: 0 auto;
    padding: 1.5rem;
    /* Maintain opacity gradient for vertical journey */
  }

  .territory-svg {
    display: none; /* Hide diagonal SVG on mobile */
  }

  .zone h3 {
    font-size: clamp(1rem, 5vw, 1.5rem);
  }

  .zone p {
    font-size: clamp(0.875rem, 4vw, 1rem);
  }
}
